---
layout: post
title: 多线程编程
category: 面试
tags: iOS
keywords: iOS,面试
description: 关于iOS多线程技能点的面试
---

### 多线程概述

 ```
      对于iOS应用程序来说,一个应用程序运行时就对应着一个进程被初始化,其独立运行在受保护的内存空间中.一个进程一般会默认开启一个线程,我们称为主线程,也叫UI线程,界面的显示操作都放在这个线程中.我们也可以开启多条线程(相互独立),异步并行的执行多个任务,这叫做多线程的并发操作,实际是指CPU快速的在多个线程之间调度(切换),形成了多个任务同时执行的假象.通常我们将应用中的网络请求,耗时操作,音乐播放等这一类耗时操作,放在单独的线程中,把与用户交互的操作放在主线程中,来保证应用可以及时响应用户的操作,提高用户体验.
 ```
  
 
### 基本概念

 - 进程: 
    一个具有一定独立功能的程序关于某个数据集合的一次运行活动
    在手机系统中,正在运行的一个应用程序就是一个进程,每个进程都独立运行在受保护的内存中

 - 线程: 是指可独立执行的代码路径,是程序执行流的最小单元,是进程中的一个实体,是执行程序最基本的单元,有自己的栈和寄存器.一个进程的所有任务都在线程中执行,因此一个进程至少有一个线程,这个线程被称为主线程.
 
 - 多线程: 一个进程可以开启多条线程,异步并行的执行多个任务.
 - 同步: 一个线程中,按照FIFO(先进先出)的规则,按顺序执行任务,下一个任务是否执行取决于上一个任务是否执行完成
 - 异步: 下一个任务不用等待上一个任务执行完,就可执行.

#### iOS中的多线程技术
 
 技术方案|简介|语言|线程和生命周期|使用频率
 :------|-----|----|----------|------
 pthread|一套通用的多线程API--适用于Unix/Linux/Windows等系统--或平台/可移植*使用难度大|C|程序员管理|几乎不用
 NSThread|使用更加面向对象--可直接操作线程对象|OC|程序员管理|偶尔使用
 GCD|旨在替代NSThread等多线程技术--充分利用设备的多核|C|自动管理|经常使用
 NSOperation|基于GCD的封装(底层是GCD)--比GCD多了一些更简单实用的功能--使用更加面向对象|OC|自动管理|经常使用